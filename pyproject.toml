[project]
# PEP 621 project metadata
# See https://www.python.org/dev/peps/pep-0621/
authors = [
    { name = "Ben Felder", email = "ben@felder.io" },
    { name = "Jairo Llopis", email = "yajo.sk8@gmail.com" },
]
dynamic = ["classifiers", "version"]
license = { text = "MIT" }
requires-python = ">=3.6.1,<3.10"
dependencies = [
    "backports.cached-property<2.0.0,>=1.0.0; python_version < \"3.8\"",
    "colorama<1.0.0,>=0.4.3",
    "iteration-utilities<1.0.0,>=0.10.1",
    "jinja2<3.0.0,>=2.11.2",
    "packaging<21.0,>=20.4",
    "pathspec<1.0.0,>=0.8.0",
    "plumbum<2.0.0,>=1.6.9",
    "pydantic<2.0.0,>=1.7.2",
    "Pygments<3.0.0,>=2.7.1",
    "pyyaml<6.0.0,>=5.3.1",
    "pyyaml-include<2.0,>=1.2",
    "questionary<2.0.0,>=1.8.1",
    "typing-extensions<4.0.0,>=3.7.4; python_version < \"3.8\"",
]
dev-dependencies = [
    "autoflake<2.0,>=1.4",
    "black<21.0,>=20.8b1",
    "flake8<4.0.0,>=3.8.4",
    "flake8-bugbear<21.0.0,>=20.1.4",
    "flake8-comprehensions<4.0.0,>=3.2.3",
    "flake8-debugger<4.0.0,>=3.2.1",
    "mypy<1.0,>=0.790",
    "pexpect<5.0.0,>=4.8.0",
    "pre-commit<3.0.0,>=2.7.1",
    "pytest<7.0.0,>=6.1.1",
    "pytest-cov<3.0.0,>=2.10.1",
    "pytest-xdist<3.0.0,>=2.1.0",
]
includes = []
name = "copier"
version = {use_scm = true}
description = "A library for rendering project templates."
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
]
readme = "README.md"

[project.urls]
"Bug Tracker" = "https://github.com/copier-org/copier/issues"
documentation = "https://copier.readthedocs.io/"
homepage = "https://github.com/copier-org/copier"
repository = "https://github.com/copier-org/copier"

[project.optional-dependencies]
# FIXME Use mkdocstrings >= 0.15 and pytkdocs >= 0.11 to fix docs, to fix:
# - https://github.com/pawamoy/mkdocstrings/issues/222
# - https://github.com/pawamoy/pytkdocs/issues/86
# - https://github.com/pawamoy/mkdocstrings/issues/225
docs = [
    "mkdocs-material<6.0.0,>=5.5.2",
    "mkdocs-mermaid2-plugin<1.0.0,>=0.5.0",
    "mkdocstrings~=0.14",
    "pytkdocs~=0.10",
]

[project.scripts]
copier = "copier.cli:CopierApp.run"

[build-system]
requires = ["pdm-pep517"]
build-backend = "pdm.pep517.api"

[tool.pdm.scripts.clean]
call = "devtasks:clean"
help = "remove build/python artifacts"

[tool.pdm.scripts.coverage]
cmd = "pytest --cov-report html --cov copier copier tests"
help = "generate an HTML report of the coverage"

[tool.pdm.scripts.docs]
cmd = "mkdocs serve"
help = "start local docs server"

[tool.pdm.scripts.lint]
cmd = "pre-commit run --all-files"
help = "check (and auto-fix) style with pre-commit"

[tool.pdm.scripts.test]
cmd = "pytest --color=yes"
help = "run tests"

[tool.pdm.scripts.types]
cmd = "mypy --ignore-missing-imports ."
help = "run the type (mypy) checker on the codebase"

[tool.black]
line-length = 88
target-version = ['py36']

[tool.isort]
combine_as_imports = true
default_section = "THIRDPARTY"
force_grid_wrap = 0
include_trailing_comma = true
known_first_party = ["copier"]
line_length = 88
multi_line_output = 3  # black interop
use_parentheses = true
